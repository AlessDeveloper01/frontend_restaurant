import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { Link, useNavigate } from "react-router-dom";
import { FormInput, PageBreadcrumb } from "../../../components";
import { IconShopping } from "./assets/IconShopping";
import { useModalStore } from "../../../store";
import { ModalLayout } from "../../../components/HeadlessUI";
import checkPermissions from "@/utils/checkPermissions";
import { useGlobalStore } from "@/store/Global/Global.store";
import { useEffect } from "react";
const PaginaMesas = () => {
    const isModalOpen = useModalStore((state) => state.isModalOpen);
    const handleModal = useModalStore((state) => state.handleModal);
    const navigate = useNavigate();
    const toast = useGlobalStore((state) => state.toast);
    const setToast = useGlobalStore((state) => state.setToast);
    useEffect(() => {
        const checkPermissionsAsync = async () => {
            const check = await checkPermissions(["5", "6"]);
            if (!check) {
                setToast("error", "No tienes permisos para acceder a esta secciÃ³n");
            }
        };
        checkPermissionsAsync();
    }, []);
    const handleModalError = () => {
        setToast("info", "");
        navigate("/dashboard");
    };
    return (_jsxs(_Fragment, { children: [toast.msg ? (_jsx(ModalLayout, { showModal: true, toggleModal: handleModalError, panelClassName: "sm:max-w-xs", placement: "justify-center items-start", children: _jsx("div", { className: `duration-300 ease-in-out transition-all sm:w-full m-3 sm:mx-auto flex flex-col bg-danger shadow-sm rounded`, children: _jsx("div", { className: "p-9 overflow-y-auto", children: _jsxs("div", { className: "text-center text-white", children: [_jsx("i", { className: `ri-close-circle-line text-4xl` }), _jsx("h4", { className: "text-xl font-medium mt-3 mb-2.5", children: "\u00A1Hay un problema!" }), _jsx("p", { className: "mt-6 mb-4", children: toast.msg }), _jsx("button", { type: "button", className: "btn bg-light text-gray-800 my-2", onClick: handleModalError, children: "Continue" })] }) }) }) })) : (_jsxs(_Fragment, { children: [_jsx(PageBreadcrumb, { title: "Mesas", subName: "Dashboard" }), _jsx("h2", { className: "text-xl my-7", children: "Gesti\u00F3n de mesas" }), _jsx("button", { type: "button", className: `btn border-success text-success hover:bg-success hover:text-white mb-5 w-full lg:w-auto`, onClick: () => handleModal(1), children: "Crear Mesa" }), _jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 md:gap-4 gap-2", children: [_jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #1" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #2" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #3" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #4" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #5" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #6" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) }), _jsx(Link, { to: "/mesas/1", className: "hover:shadow-md hover:transition-all duration-300 relative", children: _jsxs("div", { className: "bg-white p-5 rounded-md shadow-md flex flex-col justify-between items-center", children: [_jsx("h3", { className: "text-lg font-semibold", children: "Mesa #7" }), _jsx("p", { className: "text-sm text-gray-500", children: "Estado: Disponible" }), _jsx("div", { className: "w-16 h-16 rounded-full flex items-center justify-center mt-2", children: _jsx(IconShopping, {}) }), _jsx("p", { className: "absolute top-0 left-0 bg-orange-600 text-white px-2 py-1 rounded-md text-xs font-semibold", children: "Presiona para entrar" })] }) })] })] })), isModalOpen == 1 && (_jsx(ModalMesa, {}))] }));
};
function ModalMesa() {
    const isModalOpen = useModalStore((state) => state.isModalOpen);
    const handleModal = useModalStore((state) => state.handleModal);
    return (_jsx(ModalLayout, { showModal: isModalOpen === 1, toggleModal: () => handleModal(0), panelClassName: "sm:max-w-lg", placement: " justify-center items-start", children: _jsxs("div", { className: "duration-300 ease-in-out transition-all m-3 sm:mx-auto flex flex-col bg-white shadow-sm rounded dark:bg-gray-800", children: [_jsxs("div", { className: "flex justify-between items-center py-2.5 px-4 border-b dark:border-gray-700", children: [_jsx("h3", { className: "font-medium text-gray-600 dark:text-white text-lg", children: "Crear una nueva mesa" }), _jsx("button", { className: "inline-flex flex-shrink-0 justify-center items-center h-8 w-8 dark:text-gray-200", type: "button", children: _jsx("i", { className: "ri-close-line text-2xl", onClick: () => handleModal(1) }) })] }), _jsxs("div", { className: `p-4 overflow-y-auto`, children: [_jsx("h5", { className: "mb-2.5 text-base", children: "Rellena todos los campos" }), _jsx("p", { className: "text-sm mb-4", children: _jsxs("div", { id: `dismiss-example-1`, className: `border-0 text-white bg-danger rounded-md py-3 px-5 flex justify-between items-center`, children: [_jsxs("p", { children: [_jsx("span", { className: "font-bold", children: "Error:" }), " Todos los campos son obligatorios"] }), _jsx("button", { className: "text-xl/[0]", type: "button", children: _jsx("i", { className: "ri-close-line text-xl" }) })] }) }), _jsx("hr", { className: "my-5 dark:border-gray-700" }), _jsx(FormInput, { label: "Nombre de la mesa", labelClassName: "font-semibold text-gray-500", type: "text", className: "form-input w-full md:w-96", name: "name", placeholder: 'Mesa terraza', containerClass: "mb-6 space-y-2" })] }), _jsxs("div", { className: "flex justify-end items-center gap-2 p-4 border-t dark:border-slate-700", children: [_jsx("button", { className: "btn bg-light text-gray-800 transition-all", onClick: () => handleModal(0), children: "Cerrar" }), _jsx(Link, { className: "btn bg-primary text-white", to: "", children: "Guardar" })] })] }) }));
}
export default PaginaMesas;
